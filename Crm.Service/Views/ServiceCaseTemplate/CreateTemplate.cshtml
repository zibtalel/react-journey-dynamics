@inherits Crm.Library.Modularization.CrmViewUserControl
@using Crm.Library.Globalization.Extensions
@using Crm.Library.Modularization.Extensions

<div class="container">
	<div class="card">
		<div class="card-header ch-alt" data-bind="with: serviceCaseTemplate">
			<h2>@(Html.Localize("CreateServiceCaseTemplate"))</h2>
		</div>
		<div class="card-body card-padding">
			<form role="form" data-bind="with: serviceCaseTemplate">
				<fieldset>
					<legend class="m-b-25 c-black b-0 f-500 f-14">
						@(Html.Localize("BasicInformation"))
					</legend>
					<form-element params="value: Name, caption: 'Name', type: 'text'"></form-element>
				</fieldset>
				<fieldset>
					<legend class="m-b-25 c-black b-0 f-500 f-14">
						@(Html.Localize("BasicInformationServiceCase"))
					</legend>
					<div class="row">
						<div class="col-md-6">
							<form-element id="ServiceCaseCategoryKey" params="value: CategoryKey, caption: 'Category', type: 'select'">
								<select class="form-control" data-bind="select2autocompleter: { data: value, default: Helper.Lookup.getLookupValue($root.lookups.serviceCaseCategories, value), autocompleteOptions: Helper.Lookup.getAutocompleteOptions('CrmService_ServiceCaseCategory'), placeholder: placeholder }">
								</select>
							</form-element>
						</div>
						<div class="col-md-6">
							<form-element id="ServiceCasePriorityKey" params="value: PriorityKey, caption: 'Priority', type: 'select'">
								<select class="form-control" data-bind="select2autocompleter: { data: value, default: Helper.Lookup.getLookupValue($root.lookups.servicePriorities, value), autocompleteOptions: Helper.Lookup.getAutocompleteOptions('CrmService_ServicePriority'), placeholder: placeholder }">
								</select>
							</form-element>
						</div>
					</div>
					<div class="row">
						<div class="col-md-6">
							<form-element id="ServiceCaseResponsibleUser" params="value: ResponsibleUser, caption: 'ResponsibleUser', type: 'select'">
								<select class="form-control" data-bind="select2autocompleter: { data: value, autocompleteOptions: { orderBy: ['LastName'], table: 'Main_User', mapDisplayObject: Helper.User.mapForSelect2Display, customFilter: Helper.User.filterUserQuery, placeholder: placeholder } }">
								</select>
							</form-element>
						</div>
					</div>
				</fieldset>
				@Html.PluginRenderActions("CreateServiceCaseTemplateForm")
			</form>
		</div>
		 @await Html.PartialAsync("CreateFormFooter") 
	</div>
</div>
