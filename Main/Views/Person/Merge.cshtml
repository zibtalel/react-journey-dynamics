@inherits Crm.Library.Modularization.CrmViewUserControl
@using Crm.Library.Globalization.Extensions

<div class="modal-header card-header ch-alt">
	<button type="button" class="close" data-dismiss="modal" aria-label="@(Html.Localize("Close"))">
		<span aria-hidden="true">&times;</span>
	</button>
	<h4 class="modal-title">@(Html.Localize("MergeDuplicates"))</h4>
</div>
<div class="modal-body card-body card-padding">
	<p data-bind="html: Helper.String.getTranslatedString('MergePersonExplanation').replace('{0}', Helper.Person.getDisplayName(person))"></p>
	<form-element params="value: winnerId, caption: 'Person', type: 'select2'">
		<select class="form-control" data-bind="select2autocompleter: { data: value, autocompleteOptions: { orderBy: ['Surname', 'Firstname'], table: 'Main_Person', customFilter: $root.personAutocompleteFilter.bind($root), mapDisplayObject: Helper.Person.mapForSelect2Display, placeholder: placeholder } }">
		</select>
	</form-element>
</div>
<div class="modal-footer card-header ch-alt p-15">
	<button type="button" class="btn btn-lg btn-default f-13 waves-effect" data-dismiss="modal">
		@(Html.Localize("Cancel"))
	</button>
	<button type="button" class="btn btn-lg btn-primary f-13 waves-effect" data-bind="click: submit, disable: loading">
		@(Html.Localize("Merge"))
	</button>
</div>
