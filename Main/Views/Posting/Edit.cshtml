@inherits Crm.Library.Modularization.CrmViewUserControl
@using Crm.Library.Globalization.Extensions

<div class="modal-header card-header ch-alt">
	<button type="button" class="close" data-dismiss="modal" aria-label="@(Html.Localize("Close"))">
		<span aria-hidden="true">&times;</span>
	</button>
	<h4 class="modal-title" data-bind="if: Helper.Posting.isEditAllowed(posting())">@(Html.Localize("EditPosting"))</h4>
	<h4 class="modal-title" data-bind="ifnot: Helper.Posting.isEditAllowed(posting())">@(Html.Localize("Posting"))</h4>
</div>
<div class="modal-body card-body p-0">
	<form role="form" action="#">
		<div class="form-group m-b-0" data-bind="validationElement: posting().SerializedEntity">
			<div class="fg-line">
				<textarea id="serializedEntity" name="serializedEntity" class="form-control" rows="22" data-bind="value: serializedEntity" style="font-family: monospace, monospace; white-space: pre;"></textarea>
			</div>
			<!-- ko ifnot: posting().SerializedEntity.isValid -->
			<small class="help-block p-l-5">
				<span data-bind="validationMessage: posting().SerializedEntity"></span>
			</small>
			<!-- /ko -->
		</div>
	</form>
</div>
<div class="modal-footer card-header ch-alt p-15">
	<!-- ko if: Helper.Posting.isEditAllowed(posting()) -->
	<button id="btnSkip" type="button" class="pull-left btn btn-lg btn-primary f-13 waves-effect" data-bind="click: skip">
		@(Html.Localize("Skip"))
	</button>
	<button type="button" class="btn btn-lg btn-default f-13 waves-effect" data-dismiss="modal">
		@(Html.Localize("Cancel"))
	</button>
	<button id="btnSave" type="button" class="btn btn-lg btn-primary f-13 waves-effect" data-bind="click: save">
		@(Html.Localize("Save"))
	</button>
	<!-- /ko -->
	<!-- ko ifnot: Helper.Posting.isEditAllowed(posting()) -->
	<button type="button" class="btn btn-lg btn-primary f-13 waves-effect" data-dismiss="modal">
		@(Html.Localize("Close"))
	</button>
	<!-- /ko -->
</div>

